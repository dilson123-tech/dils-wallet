<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />

    <!-- Content Security Policy ajustada pra dev local -->
    <meta
      content="
        default-src 'self';
        connect-src 'self'
          https://dils-wallet-production.up.railway.app
          http://localhost:8080
          http://127.0.0.1:8080
          http://localhost:8000
          http://127.0.0.1:8000
          ws://localhost:8080
          ws://127.0.0.1:8080
          ws://localhost:8000
          ws://127.0.0.1:8000;
        script-src 'self' 'unsafe-inline' 'unsafe-eval';
        style-src 'self' 'unsafe-inline';
        img-src 'self' data:;
        font-src 'self' data:;
        frame-ancestors 'self';
      "
    />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aurea Gold</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/icon-192.png" />
<!-- AUREA_HASH_TOKEN_BOOT -->
<script>
(() => {
  try {
    const h = location.hash || "";
    const m = h.match(/(?:^|[#&])at=([^&]+)/);
    if (!m) return;

    const at = decodeURIComponent(m[1] || "");
    const looksJwt = at.split(".").length === 3 && at.length > 50;
    if (!looksJwt) return;

    const pairs = [
      ["aurea.access_token", at],
      ["aurea_access_token", at],
      ["aurea.jwt", at],
      ["aurea_jwt", at],
      ["authToken", at],
    ];
    for (const [k,v] of pairs) try { localStorage.setItem(k, v); } catch {}

    history.replaceState(null, "", location.pathname + location.search);
    console.log("[boot] token set from #at");
  } catch (e) {
    console.warn("[boot] token hash parse failed", e);
  }
})();
</script>

</head>
  <body class="aurea-mobile">

    <div id="root"></div>

    <!-- Vite entrypoints -->
    <script type="module" src="/src/main.tsx"></script>
    <script type="module" src="/src/shims/global-readjson.ts"></script>
  </body>
</html>
