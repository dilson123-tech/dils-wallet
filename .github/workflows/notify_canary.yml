name: notify-canary (workflow_run)

on:
  workflow_run:
    workflows:
      - CI - dils-wallet
      - smoke-pix
      - Smoke Prod
      - health-prod
      - Smoke - PIX Idempotency
      - Fail Fast
      - CD - Publish Docker image (GHCR)
    types: [completed]
    branches: [main]

jobs:
  echo:
    runs-on: ubuntu-latest
    steps:
      - name: Print workflow_run payload (essentials)
        run: |
          echo "TRIGGERED BY:  ${{ github.event.workflow_run.name }}"
          echo "EVENT STATUS:  ${{ github.event.workflow_run.status }}"
          echo "CONCLUSION:    ${{ github.event.workflow_run.conclusion }}"
          echo "HTML_URL:      ${{ github.event.workflow_run.html_url }}"
          echo "HEAD_BRANCH:   ${{ github.event.workflow_run.head_branch }}"
          echo "HEAD_SHA:      ${{ github.event.workflow_run.head_sha }}"
